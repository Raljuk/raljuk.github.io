(function(){"use strict";var t={2604:function(t,e,n){var o=n(9242),r={mounted(t,e){t.onmouseover=n=>{n.stopPropagation();const o={width:300,height:110,indentY:-90},r=t.getBoundingClientRect(),{clientWidth:i,clientHeight:s}=document.documentElement,a=i<o.width?document.documentElement.clientWidth-o.width+"px":`${r.x}px`,c=s<o.height?r.y-s-o.indentY+"px":`${r.y+r.height+o.indentY}px`,{city:d,id:u,img:l,name:h,position:f}=e.value,g=`<div class="person-tooltip" style="top:${c};left:${a}" id="tooltip-${u}${r.x}${r.y}">\n        <div class="tooltipContent">\n\n          <img\n            class="photo"\n            src="${l}"\n            alt="person"\n          />\n\n          <div>\n\n            <div>\n              ${h}\n            </div>\n\n            <div class="position">\n              ${f}\n            </div>\n\n            <div class="position">\n              ${d}\n            </div>\n\n          </div>\n\n        </div>\n      </div>`;document.body.insertAdjacentHTML("beforeend",g);const v=document.getElementById(`tooltip-${u}${r.x}${r.y}`),p=()=>{v.remove(),document.removeEventListener("mouseover",p)};v.onmouseover=t=>t.stopPropagation(),v.onmouseleave=()=>v.remove(),document.addEventListener("mouseover",p)}}},i=n(3396);function s(t,e,n,o,r,s){const a=(0,i.up)("Orbiter");return(0,i.wg)(),(0,i.j4)(a)}var a=n(7139),c=n.p+"img/button.f792f357.svg";const d=t=>((0,i.dD)("data-v-e715f3ca"),t=t(),(0,i.Cn)(),t),u={class:"orbiter"},l={class:"dateText"},h=["src"],f=d((()=>(0,i._)("button",{class:"button"},[(0,i._)("img",{alt:"button",src:c})],-1)));function g(t,e,n,o,r,s){const c=(0,i.Q2)("person-tooltip");return(0,i.wg)(),(0,i.iD)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.week,((e,n)=>((0,i.wg)(),(0,i.iD)("div",{key:e.contact_date,class:(0,a.C_)(["day",`day${t.orbiter[n]}`]),style:(0,a.j5)(t.getDayStyles(n))},[(0,i._)("div",{class:(0,a.C_)(["date",{visible:t.orbiter[n]===t.week.length-1}])},[(0,i._)("span",l,(0,a.zw)(t.getDate(e)),1)],2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.array,((o,r)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:o.id,class:"person",style:(0,a.j5)(t.getPersonStyles(e,n,r))},[(0,i._)("img",{class:"photo",src:o.img,alt:"person"},null,8,h)],4)),[[c,o]]))),128))],6)))),128)),f])}n(560);var v=n(1076);const p="https://xwmi-5dlx-wkyj.t7.xano.io/api:oUvfVMO5/receive_week",m=[8,7,6,5,4,3,2,1,9],y=40,w=38;var b=(0,i.aZ)({name:"Orbiter",data(){return{week:[],inProcess:!1,orbiter:m}},mounted(){this.fetchWeek(),window.addEventListener("keydown",this.onKeydown)},unmounted(){window.removeEventListener("keydown",this.onKeydown)},methods:{onKeydown(t){const{keyCode:e}=t;!this.inProcess&&[y,w].includes(e)&&(this.inProcess=!0,setTimeout((()=>{e===y&&this.orbiter.unshift(this.orbiter.pop()),e===w&&this.orbiter.push(this.orbiter.shift()),this.inProcess=!1}),500))},getPersonStyles(t,e,n){return{transform:this.orbiter[e]===this.week.length-1&&t.array.length%2!==0&&n===Math.floor(t.array.length/2)?this.getShiftedTransform(t,e,n):this.getTransform(t,e,n)}},getTransform(t,e,n){return`rotate(${this.getRotate(t,e,n)}) ${this.getTranslate(e)} rotate(calc(${this.getRotate(t,e,n)} * -1))`},getRotate(t,e,n){return`calc(180deg / ${t.array.length+1} * ${n+1})`},getShiftedTransform(t,e,n){return`rotate(${this.getShiftedRotate(t,e,n)}) ${this.getTranslate(e)} rotate(calc(${this.getShiftedRotate(t,e,n)} * -1))`},getShiftedRotate(t,e,n){return`calc(180deg / ${t.array.length+2} * ${n+1})`},getTranslate(t){return`translateX(calc(((200vh - 100px) / 8 * ${this.orbiter[t]} - 2px) / 2 * -1))`},getDayStyles(t){return{height:`calc((200vh - 100px) / ${this.week.length-1} * ${this.orbiter[t]} - 2px)`,zIndex:this.week.length-(this.orbiter[t]||0)}},async fetchWeek(){const t=await v.Z.get(`${p}?start_date=${(new Date).toISOString()}`);this.week=t.data},getDate(t){const e=new Date(t.contact_date).toDateString().slice(0,10),n=(new Date).toDateString().slice(0,10);return e===n?"Today":e}}}),$=n(89);const k=(0,$.Z)(b,[["render",g],["__scopeId","data-v-e715f3ca"]]);var x=k,O=(0,i.aZ)({name:"App",components:{Orbiter:x}});const S=(0,$.Z)(O,[["render",s]]);var _=S;const D=(0,o.ri)(_);D.directive("person-tooltip",r),D.mount("#app")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,o,r,i){if(!o){var s=1/0;for(u=0;u<t.length;u++){o=t[u][0],r=t[u][1],i=t[u][2];for(var a=!0,c=0;c<o.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(a=!1,i<s&&(s=i));if(a){t.splice(u--,1);var d=r();void 0!==d&&(e=d)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[o,r,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,i,s=o[0],a=o[1],c=o[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var u=c(n)}for(e&&e(o);d<s.length;d++)i=s[d],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},o=self["webpackChunktest"]=self["webpackChunktest"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(2604)}));o=n.O(o)})();
//# sourceMappingURL=app.e519e6f7.js.map